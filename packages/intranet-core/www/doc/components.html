<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><!-- InstanceBegin template="/Templates/main.dwt" codeOutsideHTMLIsLocked="false" -->
<HEAD>
  <!-- InstanceBeginEditable name="doctitle" -->
<TITLE>]project-open[ Components</TITLE>
<!-- InstanceEndEditable -->
  <META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
  <LINK href="style/style.css" rel=stylesheet type=text/css>
<!-- InstanceBeginEditable name="head" -->
  
  <META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
  <LINK href="style/style.css" rel=stylesheet type=text/css>
<!-- InstanceEndEditable -->
</HEAD>

<BODY bgColor=white text=black>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
  <TBODY>
    <TR>
      <TD align=left><A href="http://www.project-open.com/"><IMG border=0 src="images/projop-logo.gif"></A>
      </TD>
	  <TD align=right>
<!-- InstanceBeginEditable name="ContextBar" -->

<A href="index.html">]project-open[ Core</A>  : Home

<!-- InstanceEndEditable -->
	  </TD>
	</TR>
    <TR>
      <TD class=pagedesriptionbar colSpan=2>
      <TABLE cellPadding=1 width="100%">
          <TBODY>
            <TR>
          	  <TD height="20" vAlign=center class=pagedesriptionbar>
<!-- InstanceBeginEditable name="Title" -->

]project-open[ Core<!-- InstanceEndEditable -->
              </TD>
			</TR>
		  </TBODY>
		</TABLE></TD>
	</TR>
  </TBODY>
</TABLE>
<!-- InstanceBeginEditable name="Body" -->
<h1>Dynamic Components</h1>
<h3>Requirements</h3>
<p>Similar to <a href="menus.html">menus</a> and <a href="views.html">views</a>, extension modules may want to add information to &quot;core&quot; business objects. For example, the ]project-open[ Forum module may want to add this box with discussions and incidents to the ProjectViewPage. </p>
<table border="0" bgcolor="#CCCCCC">
  <tr>
	<td><TABLE border=0 cellPadding=0 cellSpacing=0>
              
  		<TBODY>
              
		  <TR>
                
	  		<TD><A 
                  href="#"><B>Forum 
                  Items</B> </A></TD>
			<TD><A 
                  href="#"><IMG 
                  alt="Create new Incident" border=0 height=20 
                  src="images/incident.gif" width=21> 
                  </A></TD>
			<TD><A 
                  href="#"><IMG 
                  alt="Create new Task" border=0 height=20 
                  src="images/task.gif" width=24> 
                </A></TD>
			<TD><A 
                  href="#"><IMG 
                  alt="Create a new Discussion" border=0 height=20 
                  src="images/discussion.gif" 
                  width=20> </A></TD>
			<TD><A 
                  href="#"><IMG 
                  alt="Create new News Item" border=0 height=20 
                  src="images/news.gif" width=20> 
                </A></TD>
			<TD><A 
                  href="#"><IMG 
                  alt="Create new Note" border=0 height=20 
                  src="images/note.gif" width=20> 
                </A></TD>
		  </TR>
  		</TBODY>
	  </TABLE></td>
  </tr>
  <tr>
	<td><TABLE bgColor=white border=0 cellPadding=1 cellSpacing=1>
              
  		<TBODY>
              
		  <TR>
                
	  		<TD class=rowtitle><A 
                  href="#">P</A> 
                </TD>
			<TD class=rowtitle><A 
                  href="#">Type</A> 
                </TD>
			<TD class=rowtitle><A 
                  href="#">Subject</A> 
                </TD>
			<TD class=rowtitle><A 
                  href="#">Due</A> 
                </TD>
			<TD class=rowtitle><A 
                  href="#">Own</A> 
                </TD>
			<TD class=rowtitle><A 
                  href="#">Ass</A> 
                </TD>
			<TD class=rowtitle><A 
                  href="#"><IMG 
                  alt="Select topics here for processing" border=0 height=16 
                  src="images/help.gif" width=16></A> 
                </TD>
		  </TR>
              
		  <TR class=roweven>
                
	  		<TD vAlign=top>3</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/incident.gif" 
                  width=21></A></TD>
			<TD vAlign=top><A 
                  href="#">Proyectos 
                  Proof Only - no se crean carpetas</A></TD>
			<TD vAlign=top>2004-01-07</TD>
			<TD vAlign=top><A 
                  href="#">NG</A></TD>
			<TD vAlign=top><A 
                  href="#">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.228 type=checkbox></TD>
		  </TR>
              
		  <TR class=rowodd>
                
	  		<TD vAlign=top>3</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/incident.gif" 
                  width=21></A></TD>
			<TD vAlign=top><A 
                  href="#">Error 
                  al cargar los CV de traductores freelance</A></TD>
			<TD vAlign=top>2004-02-16</TD>
			<TD vAlign=top><A 
                  href="#">AA</A></TD>
			<TD vAlign=top><A 
                  href="#">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.328 type=checkbox></TD>
		  </TR>
              
		  <TR class=roweven>
                
	  		<TD vAlign=top>4</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/news.gif" 
                  width=20></A></TD>
			<TD vAlign=top><A 
                  href="#">Assignaci&oacute;n de Freelance y funciona!</A></TD>
			<TD vAlign=top>2003-12-05</TD>
			<TD vAlign=top><A 
                  href="#">NG</A></TD>
			<TD vAlign=top><A 
                  href="#">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.146 type=checkbox></TD>
		  </TR>
              
	
              
		  <TR class=roweven>
                
	  		<TD vAlign=top>5</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/incident.gif" 
                  width=21></A></TD>
			<TD vAlign=top><A 
                  href="#">Usuario 
                  freelance existente pero ausente</A></TD>
			<TD vAlign=top>2003-12-04</TD>
			<TD vAlign=top><A 
                  href="#">JA</A></TD>
			<TD vAlign=top><A 
                  href="#">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.130 type=checkbox></TD>
		  </TR>
              
		  <TR class=rowodd>
                
	  		<TD vAlign=top>5</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/task.gif" 
                width=24></A></TD>
			<TD vAlign=top><A 
                  href="#">Freelance 
                  Information Marcela Adad</A></TD>
			<TD vAlign=top>2004-02-11</TD>
			<TD vAlign=top><A 
                  href="#">AA</A></TD>
			<TD vAlign=top><A 
                  href="#">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.326 type=checkbox></TD>
		  </TR>
              
		  <TR class=roweven>
                
	  		<TD vAlign=top>5</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/incident.gif" 
                  width=21></A></TD>
			<TD vAlign=top><A 
                  href="#">Autoassignment 
                  - No funciona</A></TD>
			<TD vAlign=top>2003-12-05</TD>
			<TD vAlign=top><A 
                  href="#">NG</A></TD>
			<TD vAlign=top><A 
                  href="#">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.147 type=checkbox></TD>
		  </TR>
              
		  <TR class=rowodd>
                
	  		<TD vAlign=top>7</TD>
			<TD vAlign=top><A 
                  href="#"><IMG 
                  alt="" border=0 height=20 
                  src="images/task.gif" 
                width=24></A></TD>
			<TD vAlign=top><A 
                  href="#">No 
                  puedo acceder a la info de un Freelance!?</A></TD>
			<TD vAlign=top>2004-01-27</TD>
			<TD vAlign=top><A 
                  href="#">JA</A></TD>
			<TD vAlign=top><A 
                  href="http://www.project-open.org/intranet/users/view?user_id=3">FB</A></TD>
			<TD vAlign=top><INPUT name=topic_id.270 type=checkbox></TD>
		  </TR>
              
		  <TR>
                
	  		<TD align=right class=roweven colSpan=8><SELECT name=action>
		   
                    
		  		<OPTION selected value=mark_as_read>Mark as read</OPTION>
		   
                    
		  		<OPTION value=mark_as_unread>Mark as unread</OPTION>
		   
		  		<OPTION 
                    value=move_to_deleted>Move to Deleted</OPTION>
		   
		  		<OPTION 
                    value=move_to_inbox>Move to Active</OPTION>
		</SELECT> <INPUT name=submit type=submit value=Apply> 
            </TD>
		  </TR>
  		</TBODY>
	  </TABLE></td>
  </tr>
</table>
<h3>Design</h3>
<p>The implementation of Dynamic Components consists of &quot;Component Plugins&quot; and &quot;Component Bays&quot;.</p>
<h5>Component Plugins</h5>
<p>Component Plugins represent HTML widgets. They are implemented using a database table containing the TCL code to render the HTML widgets and API calls in the busines objects .adp pages:</p>
<ul>
  <li>Plugin Name:<br>
	A unique name that identifies
                                the plugin in case an error occurs and
                                to avoid the duplicate installation of plugins.
</li>
  <li>Package Name:<br>
The name of the package that creates the plugin. This field is  used to cleanup when uninstalling a package.	</li>
  <li>Sort Order:<br>
 An integer inicating the order of the
                                component in a component bay. Values should
                                go like 10, 20, 30 etc. (like old Basic) to
                                allow future modules to insert its components.	</li>
  <li>Page URL:<br>
A URL starting with /intranet/,
                                but without the '.tcl' extension.
                                Page_url currently depends on where the
                                module is mounted. Bad but no better idea around yet...</li>
  <li>Location:<br>
An identifier (left, right or bottom) where in the page the component should be displayed.</li>
  <li>Component TCL:<br>
(Relatively) plain TCL code to call the component. See below.</li>
</ul>
<pre>
create table im_component_plugins (
        plugin_id               integer
                                constraint im_component_plugin_id_pk
                                primary key
                                constraint im_component_plugin_id_fk
                                references acs_objects,

        plugin_name             varchar(200) not null,

        package_name            varchar(200) not null,

        sort_order              integer not null,

        page_url                varchar(200) not null,
                                -- One of "left", "right" or "bottom".
        location                varchar(100) not null
                                constraint im_comp_plugin_location_check
                                check(location in ('left','right','bottom')),
        component_tcl           varchar(4000),
                constraint im_component_plugins_un
                unique (plugin_name, package_name)
);
</pre>
<h5>Component Bays</h5>
&quot;Component bays&quot; are the places where &quot;Component Plugins&quot; can be executed. They are implemented using as calls like <tt>[im_component_bay left]</tt>, that check the database for suitable Component Plugins by comparing the &quot;page url&quot; (derived from the connection) and the &quot;location&quot; (left, right or bottom).
<pre>
&lt;master src=&quot;../master&quot;&gt;<br>&lt;property name=&quot;title&quot;&gt;Project&lt;/property&gt;
&lt;!-- left - right - bottom  design --&gt;
&lt;table cellpadding=0 cellspacing=0 border=0 width=100%&gt;
  &lt;tr&gt;
    &lt;td valign=top&gt;
      @project_base_data_html;noquote@
      &lt;%= <font color="#FF0000">[im_component_bay left]</font> %&gt;
    &lt;/td&gt;
    &lt;td valign=top&gt;
      @admin_html;noquote@
      @hierarchy_html;noquote@
      &lt;%= <font color="#FF0000">[im_component_bay right]</font> %&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;table cellpadding=0 cellspacing=0 border=0&gt;
  &lt;tr&gt;&lt;td&gt;
    &lt;%= <font color="#FF0000">[im_component_bay bottom]</font> %&gt;
  &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</pre>
<p>&nbsp;</p>
<!-- InstanceEndEditable -->
</body>
<!-- InstanceEnd --></html>
